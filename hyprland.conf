# --- Outputs ------------------------------------- {{{1

# --- Output variables ------- {{{2
$leftmon = DP-1
$rightmon = DP-3

# --- Setup dual monitors ---- {{{2
monitor=$leftmon, 1920x1080, 0x0, 1
monitor=$rightmon, 1920x1080, 1920x0, 1

workspace = 1, monitor:$leftmon, default:true
workspace = 2, monitor:$rightmon, default:true
workspace = 3, monitor:$leftmon, default:false
workspace = 4, monitor:$rightmon, default:false

# --- Inputs -------------------------------------- {{{1

# --- Input variables -------- {{{2
$mainMod = SUPER
$left = h
$down = j
$up = k
$right = l

# --- Mouse ------------------ {{{2
env = XCURSOR_SIZE,24

# --- Keyboard---------------- {{{2
input {
    kb_layout = gb
    follow_mouse = 1
}

# --- Key binds -------------- {{{2

# Example binds, see https://wiki.hyprland.org/Configuring/Binds/ for more
bind = $mainMod, Q, exec, kitty
bind = $mainMod, C, killactive, 
bind = $mainMod, M, exit, 
bind = $mainMod, V, togglefloating, 
bind = $mainMod, R, exec, tofi-drun 
bind = $mainMod, F, fullscreen, 
bind = $mainMod, SPACE, layoutmsg, swapwithmaster

# Move focus with mainMod + arrow keys
bind = $mainMod, $left, exec, vim-hypr-nav l
bind = $mainMod, $right, exec, vim-hypr-nav r
bind = $mainMod, $up, exec, vim-hypr-nav u
bind = $mainMod, $down, exec, vim-hypr-nav d
# bind = $mainMod, $left, movefocus, l
# bind = $mainMod, $right, movefocus, r
# bind = $mainMod, $up, movefocus, u
# bind = $mainMod, $down, movefocus, d

# Move window with ctrl + mainMod + arrow keys
bind = $mainMod CTRL, $left, swapwindow, l
bind = $mainMod CTRL, $right, swapwindow, r
bind = $mainMod CTRL, $up, swapwindow, u
bind = $mainMod CTRL, $down, swapwindow, d

# Switch workspaces with mainMod + [0-4]
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4

# Move active window to a workspace with mainMod + SHIFT + [0-4]
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow


# --- Rules --------------------------------------- {{{1
windowrule=workspace 2, ^firefox$
windowrule=workspace 4, class:^(Spotify)$

misc {
  enable_swallow = true
  swallow_regex = ^kitty$
  disable_hyprland_logo = true
  disable_splash_rendering = true;
}

# --- Look & Feel --------------------------------- {{{1

# --- Look & Feel variables -- {{{2
$wallpaper_dir = $HOME/docs/wallpapers

# --- Background ------------- {{{2
exec-once = hyprpaper
exec-once = desktop-info
bind = $mainMod, 1, exec, hyprctl hyprpaper wallpaper "$leftmon,$wallpaper_dir/dark-lines_1.png"
bind = $mainMod, 2, exec, hyprctl hyprpaper wallpaper "$rightmon,$wallpaper_dir/dark-archlinux_2.png"
bind = $mainMod, 3, exec, hyprctl hyprpaper wallpaper "$leftmon,$wallpaper_dir/dark-lines_3.png"
bind = $mainMod, 4, exec, hyprctl hyprpaper wallpaper "$rightmon,$wallpaper_dir/dark-archlinux_4.png"

# --- Window layout ---------- {{{2
general {
    gaps_in = 5
    gaps_out = 15
    border_size = 2
    col.active_border = rgb(fabd2f) rgb(fe8019) 90deg
    col.inactive_border = rgb(928374)

    layout = master
}

master {
    new_is_master = true
}

# --- Window Decorations ----- {{{2
decoration {

    rounding = 10
    
    blur {
        enabled = true
        size = 3
        passes = 1
    }

    drop_shadow = yes
    shadow_range = 17
    shadow_render_power = 3
    col.shadow = rgba(111111BB)
}

# --- Animation -------------- {{{2
animations {
    enabled = yes
    bezier = myBezier, 0.05, 0.9, 0.1, 1.05

    animation = windows, 1, 7, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = borderangle, 1, 8, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default
}

# --- Locking ------------------------------------- {{{1
exec swayidle -w \
  timeout 600 'swaylock -f -F -i $wallpaper_dir/steam_lock.jpg -indicator-x-position 1001 --indicator-y-position 520' \
  before-sleep 'swaylock -f -c 000000'

